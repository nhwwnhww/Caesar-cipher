<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>

    <script src="https://js.cx/libs/animate.js"></script>

    <title>Caesar cipher</title>
    <style>
        /* rolling groove */
        ::-webkit-scrollbar {
            width: 15px;
            height: 5px;
        }
        ::-webkit-scrollbar-track {
            border-radius: 3px;
            background: rgba(81, 75, 75, 0.06);
            -webkit-box-shadow: inset 0 0 10px rgba(33, 44, 33, 0.61);
        }       
        /* scroll bar slider */
        ::-webkit-scrollbar-thumb {
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.12);
            -webkit-box-shadow: inset 0 0 10px rgba(23, 16, 16, 0.952);
        }

        .image:hover{
            background: linear-gradient(135deg, rgb(100, 0, 0), rgb(170, 170, 0), rgb(0, 68, 0));
            animation: animate 2s linear infinite;
            border-top: red 5px solid;
            border-bottom: red 5px solid;
        }

        @keyframes animate {
        100%{
            filter: hue-rotate(360deg);
            }
        }
        
        </style>
    </head>
    <body data-bs-spy="scroll" data-bs-target=".navbar" data-bs-offset="50">

    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
        <div class="container-fluid">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#section1">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section2">Introduction</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section3">Caesar cipher</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://nhwwnhww.github.io/">back</a>
            </li>
          </ul>
        </div>
    </nav>

    <div id="section1" class="container-fluid bg-dark text-white row" style="height: 100vh; ">
        <div class="col-sm-4">
            <img src="./image/Caesar.jfif" class="image" alt="XD" width="100%" style="margin-top: 10vh; margin-bottom: 10vh;">
        </div>
        <div class="col-sm-4">
            <h1 class="display-1" style="margin-top:40vh">Caesar cipher</h1>
        </div>
        <div class="col-sm-4">
            <img src="./image/Blog_Post_07_02.jpg" class="image" alt="XD" width="100%" style="margin-top: 10vh; margin-bottom: 10vh;">
        </div>
    </div>

    <div id="section2" class="container-fluid">
        <div class="row" style="height: 100vh;">
            <div class="col-md-2 col-1 col-lg-3 p-3 bg-light text-white"></div>
            <div class="col-md-8 col-10 col-lg-6 p-3 bg-dark text-white d-flex flex-column">
                <h1 class="display-1" style="margin-top: 5vh; text-align: center; margin-bottom: 5vh;">Caesar Cipher</h1>
                <p>The Caesar Cipher technique is one of the earliest and simplest method of encryption technique. It’s simply a type of substitution cipher, i.e., each letter of a given text is replaced by a letter some fixed number of positions down the alphabet. For example with a shift of 1, A would be replaced by B, B would become C, and so on. The method is apparently named after Julius Caesar, who apparently used it to communicate with his officials. 
                    Thus to cipher a given text we need an integer value, known as shift which indicates the number of position each letter of the text has been moved down. 
                    The encryption can be represented using modular arithmetic by first transforming the letters into numbers, according to the scheme, A = 0, B = 1,…, Z = 25. Encryption of a letter by a shift n can be described mathematically as. 
                </p>
                <img src="./image/Intro1.png" class="image" alt="">
            </div>
            <div class="col-md-2 col-1 col-lg-3 p-3 bg-light text-white"></div>
        </div>
    </div>

    <div id="section3" class="container-fluid mt-3">
        <div class="row" style="height: 100vh;text-align: center; margin-bottom: 5vh;">
            <div class="col-md-2 col-1 col-lg-3 p-3 bg-light text-white"></div>
            <div class="col-md-8 col-10 col-lg-6 p-3 bg-dark text-white d-flex flex-column">
                <h1 style="margin-top: 20vh;" class="display-1">Caesar cipher</h1>

                <label for="">input your plaintext</label>

                <div class="input-group mb-3 input-group-sm">
                    <span class="input-group-text">Plaintext:</span>
                    <textarea type="text" class="form-control" id="input" rows="5"></textarea>
                </div>

                <label for="">'k' value</label>

                <div class="col-2">
                    <div class="input-group mb-3 input-group-sm">
                        <span class="input-group-text">key:</span>
                        <input type="text" class="form-control" id="k_value">
                    </div>
                </div>

                <div class="row">
                    <div class="col-1"></div>
                    <button onclick="output_encrypt()" class="btn btn-info col-4 " data-bs-toggle="modal" data-bs-target="#myModal" id="encrypt">encrypt</button>
                    
                    <div class="col-2"></div>
                    <button onclick="output_decrypt()" class="btn btn-danger col-4" data-bs-toggle="modal" data-bs-target="#myModal_decrypt">decrypt</button>
                    <div class="col-1"></div>
                </div>

                <div class="input-group mb-3 input-group-sm">
                    <span class="input-group-text">Ciphertext:</span>
                    <textarea type="text" class="form-control" disabled id="output" rows="5"></textarea>
                 </div>

                <h6 id="output2"></h6>
            </div>
            <div class="col-md-2 col-1 col-lg-3 p-3 bg-light text-white"></div>
        </div>
    </div>

    <!-- 模态框 -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- 模态框头部 -->
        <div class="modal-header">
          <h4 class="modal-title">encryption</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- 模态框内容 -->
        <div class="modal-body">
            encrypted successfully
        </div>
  
        <!-- 模态框底部 -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
  </div>

  <!-- 模态框 -->
<div class="modal" id="myModal_decrypt">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- 模态框头部 -->
        <div class="modal-header">
          <h4 class="modal-title">decryption</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- 模态框内容 -->
        <div class="modal-body">
            Decrypted successfully
        </div>
  
        <!-- 模态框底部 -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
  </div>

    <script>

        function output_encrypt(){
            let str = document.getElementById('input').value;
            let k = document.getElementById('k_value').value;

            if(!str){
                alert("Please add the Plaintext you want to encrypt");
            }
            else if(!k){
                alert("Please add your key");
            }
            else{
                let ans = rot(str,parseInt(k));

                let output = document.getElementById('output');

                document.getElementById('output').value = ans;
                animateText(output);
            }

            
        }

        // animateText
        function animateText(textArea) {
            let text = textArea.value;
            let to = text.length,
                from = 0;

            animate({
                duration: 1000,
                timing: bounce,
                draw: function(progress) {
                let result = (to - from) * progress + from;
                textArea.value = text.substr(0, Math.ceil(result))
                }
        });
        }
        function bounce(timeFraction) {
            for (let a = 0, b = 1, result; 1; a += b, b /= 2) {
                if (timeFraction >= (7 - 4 * a) / 11) {
                return -Math.pow((11 - 6 * a - 11 * timeFraction) / 4, 2) + Math.pow(b, 2)
                }
            }
        }

        // function full(){
        //     let str = document.getElementById('input').value;
        //     document.getElementById('show_all').value = str;
        //     let show = document.getElementById('show_all');
        //     show.innerHTML = "";
        //     for (let i = 1; i < 27;i++){
        //         let ans = rot(str,i);
        //         let h3 = document.createElement("h3");
        //         h3.innerText = ans;
        //         show.appendChild(h3);
        //     }
        // }

        function output_decrypt(){
            let str = document.getElementById('input').value;

            if(!str){
                alert("Please add the Plaintext you want to encrypt");
            }
            else {
                let key = decrypt(str);
                document.getElementById('output2').innerText = 'The key guessed by the algorithm is ' + key;

                let k = Math.abs(key-26);
                let ans = rot(str,parseInt(k));

                let output = document.getElementById('output');

                document.getElementById('output').value = ans;
                animateText(output);
            }
        }
        
        

    </script>
    <script src="./Casear_chipher_libary.js"></script>
    <script src="./word_frequency.js"></script>
</body>
</html>